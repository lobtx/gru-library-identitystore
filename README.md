
#Plugin library-identitystore

##Introduction

This library provided a service for dialog with identitystore REST services.

##Configuration

 **Mandatory** configuration has to be defined in your application.

Main service type is "fr.paris.lutece.plugins.identitystore.web.service.IdentityService" which give methods for calling identityStore. It required an implementation of "fr.paris.lutece.plugins.identitystore.web.service.IIdentityTransportProvider" for defining REST service call.Two implementation of this interface are given in the library :
 
* fr.paris.lutece.plugins.identitystore.web.rs.service.IdentityTransportApiManagerRest, which use ApiManager WSO2
* fr.paris.lutece.plugins.identitystore.web.rs.service.IdentityTransportRest, which use simple request without token management


These two implementations require URL definition of the identityStore service end point in property **identityStoreEndPoint** . Moreover ApiManager requires URL definition of the token service end point in property **apiManagerEndPoint** .

Finally, These two implementations are defined to make request with HttpAccess component of library-httpaccess. If it's not needed, the property **httpTransport** has to be overwritten by an implementation of "fr.paris.lutece.plugins.identitystore.web.service.IHttpTransportProvider" interface.

##Examples of Spring configuration

 **Use ApiManager through HttpAccess** 
```

<bean id="apiTransport.httpAccess" class="fr.paris.lutece.plugins.identitystore.web.rs.service.IdentityTransportApiManagerRest">
    <property name="identityStoreEndPoint">
        <value>http://mydomain.com:8080/rest/identitystore</value>
    </property>
    <property name="apiManagerEndPoint">
        <value>http://mydomain.com:8080/rest/token</value>
    </property>
</bean>
<bean id="identitystoreService.api.httpAccess" class="fr.paris.lutece.plugins.identitystore.web.service.IdentityService">
    <constructor-arg ref="apiTransport.httpAccess"/>
</bean>
                    
```


 **Use without ApiManager through simple request** 
```

<bean id="simpleRestTransport" class="fr.paris.lutece.plugins.identitystore.web.service.SimpleRestTransport" />
<bean id="restTransport.simpleRest" class="fr.paris.lutece.plugins.identitystore.web.rs.service.IdentityTransportRest">
    <property name="notificationEndPoint">
        <value>http://mydomain.com:8080/rest/identitystore</value>
    </property>
    <property name="httpTransport">
        <ref bean="simpleRestTransport"/>
    </property>
</bean>
<bean id="identitystoreService.rest.simpleRest" class="fr.paris.lutece.plugins.identitystore.web.service.IdentityService">
    <constructor-arg ref="restTransport.simpleRest"/>
</bean>
                    
```



[Maven documentation and reports](http://dev.lutece.paris.fr/plugins/library-identitystore/)



 *generated by [xdoc2md](https://github.com/lutece-platform/tools-maven-xdoc2md-plugin) - do not edit directly.*